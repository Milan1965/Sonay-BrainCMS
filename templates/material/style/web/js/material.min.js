var parent, circle, d, x, y;
$(".ripple-effect").click(function(e) {
	"use strict";
	parent = $(this).parent();
	if(parent.find(".circle").length == 0)
		parent.prepend("<span class='circle'></span>");
		
	circle = parent.find(".circle");
	circle.remove("animate");
	
	if(!circle.height() && !circle.width()) {
		d = Math.max(parent.outerWidth(), parent.outerHeight());
		circle.css({height: d, width: d});
	}
	
	x = e.pageX - parent.offset().left - circle.width() / 2;
	y = e.pageY - parent.offset().top - circle.height() / 2;
	
	circle.css({top: y + "px", left: x + "px"}).addClass("animate");
});